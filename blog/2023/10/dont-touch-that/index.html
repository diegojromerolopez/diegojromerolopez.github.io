<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Don't touch that - Diego J.'s Software Tar Pit</title>
<meta name=description content="Don&rsquo;t touch that Have you ever been told &ldquo;don&rsquo;t touch that, if you modify that piece of code you are going to break anything&rdquo;? How did you react to this comment? Did you feel &ldquo;attacked&rdquo; or simply ignored that piece of advice?
Code jungle Starting a working on a project that has some dark corners is a daunting task but following some guidelines can be useful.
Scary code There is always some scary code, I do not mean code that is difficult to understand, but code that has unintended consequences if modified.">
<meta name=author content="Diego J. Romero-López"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Diego J.\u0027s Software Tar Pit","url":"https:\/\/diegojromerolopez.github.io"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/diegojromerolopez.github.io"}</script>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/diegojromerolopez.github.io","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/diegojromerolopez.github.io\/blog\/2023\/10\/dont-touch-that\/","name":"Don\u0027T touch that"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Diego J. Romero-López"},"headline":"Don\u0027t touch that","description":"Don\u0026rsquo;t touch that Have you ever been told \u0026ldquo;don\u0026rsquo;t touch that, if you modify that piece of code you are going to break anything\u0026rdquo;? How did you react to this comment? Did you feel \u0026ldquo;attacked\u0026rdquo; or simply ignored that piece of advice?\nCode jungle Starting a working on a project that has some dark corners is a daunting task but following some guidelines can be useful.\nScary code There is always some scary code, I do not mean code that is difficult to understand, but code that has unintended consequences if modified.","inLanguage":"en","wordCount":532,"datePublished":"2023-10-12T00:00:00","dateModified":"2023-10-12T00:00:00","image":"https:\/\/diegojromerolopez.github.io\/img\/diegoj-logo.png","keywords":["legacy, code, software"],"mainEntityOfPage":"https:\/\/diegojromerolopez.github.io\/blog\/2023\/10\/dont-touch-that\/","publisher":{"@type":"Organization","name":"https:\/\/diegojromerolopez.github.io","logo":{"@type":"ImageObject","url":"https:\/\/diegojromerolopez.github.io\/img\/diegoj-logo.png","height":60,"width":60}}}</script>
<meta property="og:title" content="Don't touch that">
<meta property="og:description" content="Don&rsquo;t touch that Have you ever been told &ldquo;don&rsquo;t touch that, if you modify that piece of code you are going to break anything&rdquo;? How did you react to this comment? Did you feel &ldquo;attacked&rdquo; or simply ignored that piece of advice?
Code jungle Starting a working on a project that has some dark corners is a daunting task but following some guidelines can be useful.
Scary code There is always some scary code, I do not mean code that is difficult to understand, but code that has unintended consequences if modified.">
<meta property="og:image" content="https://diegojromerolopez.github.io/img/diegoj-logo.png">
<meta property="og:url" content="https://diegojromerolopez.github.io/blog/2023/10/dont-touch-that/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Diego J.'s Software Tar Pit">
<meta name=twitter:title content="Don't touch that">
<meta name=twitter:description content="Don&rsquo;t touch that Have you ever been told &ldquo;don&rsquo;t touch that, if you modify that piece of code you are going to break anything&rdquo;? How did you react to this comment? Did you feel …">
<meta name=twitter:image content="https://diegojromerolopez.github.io/img/diegoj-logo.png">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:site content="@diegojromerolop">
<meta name=twitter:creator content="@diegojromerolop">
<link href=https://diegojromerolopez.github.io/img/favicon.ico rel=icon type=image/x-icon>
<meta name=generator content="Hugo 0.91.2">
<link rel=alternate href=https://diegojromerolopez.github.io/index.xml type=application/rss+xml title="Diego J.'s Software Tar Pit"><link rel=stylesheet href=https://diegojromerolopez.github.io/css/katex.min.css>
<link rel=stylesheet href=https://diegojromerolopez.github.io/fontawesome/css/all.css>
<link rel=stylesheet href=https://diegojromerolopez.github.io/css/bootstrap.min.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/main.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/fonts.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/syntax.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/codeblock.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/photoswipe.min.css>
<link rel=stylesheet href=https://diegojromerolopez.github.io/css/photoswipe.default-skin.min.css>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top navbar-custom">
<div class=container-fluid>
<div class=navbar-header>
<button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=https://diegojromerolopez.github.io>Diego J.'s Software Tar Pit</a>
</div>
<div class="collapse navbar-collapse" id=main-navbar>
<ul class="nav navbar-nav navbar-right">
<li>
<a title=Blog href=/>Blog</a>
</li>
<li>
<a title=About href=/page/about/>About</a>
</li>
<li>
<a title=Tags href=/tags>Tags</a>
</li>
<li>
<a href=/es lang=es>es</a>
</li>
</ul>
</div>
<div class=avatar-container>
<div class=avatar-img-border>
<a title="Diego J.'s Software Tar Pit" href=https://diegojromerolopez.github.io>
<img class=avatar-img src=https://diegojromerolopez.github.io/img/diegoj-logo.png alt="Diego J.'s Software Tar Pit">
</a>
</div>
</div>
</div>
</nav>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div>
<header class=header-section>
<div class="intro-header no-img">
<div class=container>
<div class=row>
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<div class=post-heading>
<h1>Don't touch that</h1>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on October 12, 2023
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Diego J. Romero-López
</span>
</div>
</div>
</div>
</div>
</div>
</header>
<div class=container role=main>
<div class=row>
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<article role=main class=blog-post>
<h1 id=dont-touch-that>Don&rsquo;t touch that</h1>
<p>Have you ever been told &ldquo;don&rsquo;t touch that, if you modify that piece
of code you are going to break anything&rdquo;? How did you react to this
comment? Did you feel &ldquo;attacked&rdquo; or simply ignored that piece of <em>advice</em>?</p>
<h2 id=code-jungle>Code jungle</h2>
<p>Starting a working on a project that has some <em>dark corners</em> is a
daunting task but following some guidelines can be useful.</p>
<h2 id=scary-code>Scary code</h2>
<p>There is always some <em>scary code</em>, I do not mean code that is difficult
to understand, but code that has unintended consequences if modified.
Code that if it is changed in order, breaks something. Of course the code
has no tests at all, or even worse, the tests do not help with detecting
errors.</p>
<p>Usually this code has been created &ldquo;organically&rdquo;, and by that I mean
chaotically, i.e. without any kind of software design. Global state,
no documentation (because of clean code) and no useful tests, because
&ldquo;we mock everything&rdquo;.</p>
<p>This kind of code works but modifying that could cause an outage easily,
as even the minor modification could cause an service failure of gigantic
proportions.</p>
<h2 id=the-cursed-phrases>The cursed phrases</h2>
<p>And now is when phrases like <em>This is too difficult</em>, <em>Don&rsquo;t do that</em>,
<em>Do not modify this code</em> enter the room. Maybe you are a new employee
and have no experience dealing with the project but&mldr; I cannot help
to feel a bit of <em>contempt</em> when listening to that. Of course that is
only a perception and not the true intent of the person I am talking to,
but being told &ldquo;you are not experienced to to something&rdquo; <em>stings</em>.</p>
<h2 id=the-cursed-state-of-things>The cursed state of things</h2>
<p>Of course a job it is just a job, we should not care about this kind
of non-sense, and work everyday, providing value to the company we work for.
However, do this kind of disarray, this untouchable code, unknown
behaviour in projects provide value to the company?
I do not think so. Providing value to the company is also ensuring
you can <em>continue providing value to the company</em> in the future.
We are not working in some stone-sculpted monument, we work in a
dynamic, changing, and inmaterial environment and means. There should
not be untouchable code.</p>
<h2 id=what-to-do>What to do</h2>
<p>There is a good book (maybe a bit dated) called
<a href=https://www.oreilly.com/library/view/working-effectively-with/0131177052/>Working Effectively with Legacy Code</a>
that gives some good pointers to deal with this. It is almost 20 years old,
but it gives advice on how to tame the beast that is legacy code.</p>
<p>The most important lesson the book contains, I would say, is ensuring you
have the main workflows covered by tests before doing any change. So, once
you start working on refactoring pieces of code you do not break anything.</p>
<p>Of course, tests need to be actual tests, not the kind where you mock
everything and that is all. In this case, I would vouch for integration
and end-to-end tests.</p>
<p>I wrote a post some time ago about my idea of how the tests should be.
<a href=/blog/2022/11/actual-integration-tests/>Take a look at it</a>.</p>
<h2 id=conclusion>Conclusion</h2>
<p>Ensure no code is untouchable by having actual tests that leave no
flow untested. Once you have that, refactor the code to make it
understandable, and extensible.</p>
<div class=blog-tags>
<a href=https://diegojromerolopez.github.io/tags/legacy/>legacy</a>&nbsp;
<a href=https://diegojromerolopez.github.io/tags/code/>code</a>&nbsp;
<a href=https://diegojromerolopez.github.io/tags/software/>software</a>&nbsp;
</div>
</article>
<ul class="pager blog-pager">
<li class=previous>
<a href=https://diegojromerolopez.github.io/blog/2023/09/misconceptions-about-code-comments/ data-toggle=tooltip data-placement=top title="Misconceptions about code comments">&larr; Previous Post</a>
</li>
<li class=next>
<a href=https://diegojromerolopez.github.io/blog/2023/11/what-is-your-constraint-mine-is-anti-work/ data-toggle=tooltip data-placement=top title="What is your constraint? Mine is anti-work">Next Post &rarr;</a>
</li>
</ul>
</div>
</div>
</div>
<footer>
<div class=container>
<div class=row>
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<ul class="list-inline text-center footer-links">
<li>
<a href=mailto:diegojromerolopez@gmail.com title="Email me">
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://github.com/diegojromerolopez title=GitHub>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://twitter.com/diegojromerolop title=Twitter>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://linkedin.com/in/diegojromerolopez title=LinkedIn>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href title=RSS>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
</ul>
<p class="credits copyright text-muted">
Diego J. Romero-López
&nbsp;&bull;&nbsp;&copy;
2025
&nbsp;&bull;&nbsp;
<a href=https://diegojromerolopez.github.io>Diego J.'s Software Tar Pit</a>
</p>
<p class="credits theme-by text-muted">
<a href=https://gohugo.io>Hugo v0.91.2</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
</p>
</div>
</div>
</div>
</footer><script src=https://diegojromerolopez.github.io/js/katex.min.js></script>
<script src=https://diegojromerolopez.github.io/js/auto-render.min.js></script>
<script src=https://diegojromerolopez.github.io/js/jquery-3.5.1.slim.min.js></script>
<script src=https://diegojromerolopez.github.io/js/bootstrap.min.js></script>
<script src=https://diegojromerolopez.github.io/js/main.js></script><script>renderMathInElement(document.body)</script><script src=https://diegojromerolopez.github.io/js/photoswipe.min.js></script>
<script src=https://diegojromerolopez.github.io/js/photoswipe-ui-default.min.js></script><script src=https://diegojromerolopez.github.io/js/load-photoswipe.js></script>
</body>
</html>