<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Actual integration tests - Diego J.'s Software Tar Pit</title>
<meta name=description content="Many times we have some piece of code that is tested but is still failing in production. How is that possible? Is that because of bad tests or we have a greater hidden issue?
Protect your vital functionality with integration tests Integration tests are the best way make sure that a functionality does not degradate when adding new features.
What are integration tests Integration tests are tests that check a full feature of the project.">
<meta name=author content="Diego J. Romero-López"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Diego J.\u0027s Software Tar Pit","url":"https:\/\/diegojromerolopez.github.io"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/diegojromerolopez.github.io"}</script>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/diegojromerolopez.github.io","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/diegojromerolopez.github.io\/blog\/2022\/11\/actual-integration-tests\/","name":"Actual integration tests"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Diego J. Romero-López"},"headline":"Actual integration tests","description":"Many times we have some piece of code that is tested but is still failing in production. How is that possible? Is that because of bad tests or we have a greater hidden issue?\nProtect your vital functionality with integration tests Integration tests are the best way make sure that a functionality does not degradate when adding new features.\nWhat are integration tests Integration tests are tests that check a full feature of the project.","inLanguage":"en","wordCount":485,"datePublished":"2022-11-27T18:47:00","dateModified":"2022-11-27T00:00:00","image":"https:\/\/diegojromerolopez.github.io\/img\/diegoj-logo.png","keywords":["testing, software engineering"],"mainEntityOfPage":"https:\/\/diegojromerolopez.github.io\/blog\/2022\/11\/actual-integration-tests\/","publisher":{"@type":"Organization","name":"https:\/\/diegojromerolopez.github.io","logo":{"@type":"ImageObject","url":"https:\/\/diegojromerolopez.github.io\/img\/diegoj-logo.png","height":60,"width":60}}}</script>
<meta property="og:title" content="Actual integration tests">
<meta property="og:description" content="Many times we have some piece of code that is tested but is still failing in production. How is that possible? Is that because of bad tests or we have a greater hidden issue?
Protect your vital functionality with integration tests Integration tests are the best way make sure that a functionality does not degradate when adding new features.
What are integration tests Integration tests are tests that check a full feature of the project.">
<meta property="og:image" content="https://diegojromerolopez.github.io/img/diegoj-logo.png">
<meta property="og:url" content="https://diegojromerolopez.github.io/blog/2022/11/actual-integration-tests/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Diego J.'s Software Tar Pit">
<meta name=twitter:title content="Actual integration tests">
<meta name=twitter:description content="Many times we have some piece of code that is tested but is still failing in production. How is that possible? Is that because of bad tests or we have a greater hidden issue?
Protect your vital …">
<meta name=twitter:image content="https://diegojromerolopez.github.io/img/diegoj-logo.png">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:site content="@diegojromerolop">
<meta name=twitter:creator content="@diegojromerolop">
<link href=https://diegojromerolopez.github.io/img/favicon.ico rel=icon type=image/x-icon>
<meta name=generator content="Hugo 0.91.2">
<link rel=alternate href=https://diegojromerolopez.github.io/index.xml type=application/rss+xml title="Diego J.'s Software Tar Pit"><link rel=stylesheet href=https://diegojromerolopez.github.io/css/katex.min.css>
<link rel=stylesheet href=https://diegojromerolopez.github.io/fontawesome/css/all.css>
<link rel=stylesheet href=https://diegojromerolopez.github.io/css/bootstrap.min.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/main.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/fonts.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/syntax.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/codeblock.css><link rel=stylesheet href=https://diegojromerolopez.github.io/css/photoswipe.min.css>
<link rel=stylesheet href=https://diegojromerolopez.github.io/css/photoswipe.default-skin.min.css>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top navbar-custom">
<div class=container-fluid>
<div class=navbar-header>
<button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=https://diegojromerolopez.github.io>Diego J.'s Software Tar Pit</a>
</div>
<div class="collapse navbar-collapse" id=main-navbar>
<ul class="nav navbar-nav navbar-right">
<li>
<a title=Blog href=/>Blog</a>
</li>
<li>
<a title=About href=/page/about/>About</a>
</li>
<li>
<a title=Tags href=/tags>Tags</a>
</li>
<li>
<a href=/es lang=es>es</a>
</li>
</ul>
</div>
<div class=avatar-container>
<div class=avatar-img-border>
<a title="Diego J.'s Software Tar Pit" href=https://diegojromerolopez.github.io>
<img class=avatar-img src=https://diegojromerolopez.github.io/img/diegoj-logo.png alt="Diego J.'s Software Tar Pit">
</a>
</div>
</div>
</div>
</nav>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div>
<header class=header-section>
<div class="intro-header no-img">
<div class=container>
<div class=row>
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<div class=post-heading>
<h1>Actual integration tests</h1>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on November 27, 2022
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Diego J. Romero-López
</span>
</div>
</div>
</div>
</div>
</div>
</header>
<div class=container role=main>
<div class=row>
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<article role=main class=blog-post>
<p>Many times we have some piece of code that is tested but is still failing
in production. How is that possible? Is that because of bad tests or
we have a greater hidden issue?</p>
<h1 id=protect-your-vital-functionality-with-integration-tests>Protect your vital functionality with integration tests</h1>
<p>Integration tests are the best way make sure that a functionality
does not degradate when adding new features.</p>
<h2 id=what-are-integration-tests>What are integration tests</h2>
<p>Integration tests are tests that check a full feature of the project.
So, in the case of adding new features, we can guarantee that at least
the covered features are going to keep working as expected.</p>
<h2 id=unit-test-vs-integration-tests>Unit test vs Integration tests</h2>
<p><strong>Unit tests</strong> check only a part of the project and usually rely in <em>stubbing</em>
and <em>mocking</em> many dependencies, i.e. they do not test everything, as many
parts of the checked code are replaced by <em>fake</em> functionality.</p>
<p><strong>Integration tests</strong> does not rely in faking all the dependencies of the project
(or that is the goal, sometimes it is not possible and some mocks needs to be used).
They fully check a feature end-to-end.</p>
<p>Both cases are needed to allow easy refactors of code and detect integration
errors before reaching production. However, integration tests provide a
better way of assuring the project&rsquo;s feature, as unit tests can fail
to rely too much in mocking some module&rsquo;s dependencies. Most of the times,
integration tests only mock external services, hence testing the actual
functionaly of the project (unlike unit tests).</p>
<h2 id=smoke-tests>Smoke tests</h2>
<p>There is a kind of tests that have the aim of making sure the basic
functionality of the project keeps working after having added new features.</p>
<p>Examples of these tests are &ldquo;signing up an user&rdquo;, &ldquo;logging in an user&rdquo;,
&ldquo;selling a product to an user&rdquo;, etc.</p>
<p>These tests give &ldquo;mind peace&rdquo; to developers, as they guarantee some basic
features. Usually there are no smoke tests for all the features that the
project has, but for the most commonly used. That way, in the event of
a <em>bug</em>, there would be a <em>degradation of the service</em> but never an
error as it would have been detected in the testing phase.</p>
<h2 id=how-to-do-it>How to do it?</h2>
<p>Try to replicate the production environment as good as possible when
creating the integration tests.</p>
<p>For example, thanks to docker container technology,
it is possible to run <a href=https://hub.docker.com/_/docker>docker containers inside
docker</a>, and hence create
a mini-production environment to test.</p>
<p>Another way to do it, is to have a clone of production and deploy there
each time the contionus integration runs, and run some test again that
production clone server.</p>
<p>There are multiple ways to do it, but you have to found a way to have
a test environment as similar as possible to production with the possibility
of running tests there.</p>
<h1 id=conclusion>Conclusion</h1>
<p>Create meaningful integration tests for your projects. Smoke-tests
are a good way to make sure the basic features of your project
keep working after including a new feature.</p>
<div class=blog-tags>
<a href=https://diegojromerolopez.github.io/tags/testing/>testing</a>&nbsp;
<a href=https://diegojromerolopez.github.io/tags/software-engineering/>software engineering</a>&nbsp;
</div>
</article>
<ul class="pager blog-pager">
<li class=previous>
<a href=https://diegojromerolopez.github.io/blog/2022/11/add-changes-to-your-last-commit/ data-toggle=tooltip data-placement=top title="Add changes to your last commit">&larr; Previous Post</a>
</li>
<li class=next>
<a href=https://diegojromerolopez.github.io/blog/2022/12/override-docker-compose.yml-files/ data-toggle=tooltip data-placement=top title="Override docker-compose.yml files">Next Post &rarr;</a>
</li>
</ul>
</div>
</div>
</div>
<footer>
<div class=container>
<div class=row>
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<ul class="list-inline text-center footer-links">
<li>
<a href=mailto:diegojromerolopez@gmail.com title="Email me">
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://github.com/diegojromerolopez title=GitHub>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://twitter.com/diegojromerolop title=Twitter>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://linkedin.com/in/diegojromerolopez title=LinkedIn>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href title=RSS>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
</ul>
<p class="credits copyright text-muted">
Diego J. Romero-López
&nbsp;&bull;&nbsp;&copy;
2024
&nbsp;&bull;&nbsp;
<a href=https://diegojromerolopez.github.io>Diego J.'s Software Tar Pit</a>
</p>
<p class="credits theme-by text-muted">
<a href=https://gohugo.io>Hugo v0.91.2</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
</p>
</div>
</div>
</div>
</footer><script src=https://diegojromerolopez.github.io/js/katex.min.js></script>
<script src=https://diegojromerolopez.github.io/js/auto-render.min.js></script>
<script src=https://diegojromerolopez.github.io/js/jquery-3.5.1.slim.min.js></script>
<script src=https://diegojromerolopez.github.io/js/bootstrap.min.js></script>
<script src=https://diegojromerolopez.github.io/js/main.js></script><script>renderMathInElement(document.body)</script><script src=https://diegojromerolopez.github.io/js/photoswipe.min.js></script>
<script src=https://diegojromerolopez.github.io/js/photoswipe-ui-default.min.js></script><script src=https://diegojromerolopez.github.io/js/load-photoswipe.js></script>
</body>
</html>