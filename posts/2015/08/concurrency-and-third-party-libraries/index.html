<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  
  <title>Concurrency and Third Party Libraries</title>
<link href="/theme/css/style.css" rel="stylesheet" type="text/css" media="screen" />
<link href="/" type="application/atom+xml" rel="alternate" title="Diego J's on Software Engineering Research ATOM Feed" />
  
  <!--[if IE]>
  <style type="text/css"> 
  .twoColFixRtHdr #mainContent { zoom: 1; }
  </style>
  <![endif]-->

</head>

<body>

<div id="container">

  <div id="header">
  <h1><a href="/index.html">Diego J's on Software Engineering Research</h1>
  
  </div><!-- end #header -->
  
  <div id="topMenu">
  
    <ul>
    	<li><a href="/index.html">Home</a></li>
        <li>&ndash;</li>
        <li><a href="/archives.html">Archives</a></li>
        
    </ul>
  
  </div><!-- end #topMenu -->

  <div id="sidebar">
    <ul>
	<li>
	    <h3>Pages</h3>
	    <ul>
	    </ul>
	</li>
	<li>
            <h3>Categories</h3>
            <ul>
		     <li ><a href="/category/book-reviews.html">Book reviews</a></li>
		     <li class="active"><a href="/category/programming.html">Programming</a></li>
		     <li ><a href="/category/project-management.html">Project Management</a></li>
		     <li ><a href="/category/videotalks.html">Videotalks</a></li>
		     <li ><a href="/category/welcome.html">Welcome</a></li>
	    </ul>
	</li>
	<li>
		<h3>Blogroll</h3>
		<ul>
                    <li><a href="http://www.sei.cmu.edu/">SEI</a></li>
                    <li><a href="http://www.w3c.org/">W3C</a></li>
                    <li><a href="https://www.scrumalliance.org/">SCRUM</a></li>
		</ul>
	</li>
        <li>
                <h3>Social</h3>
                <ul>
                    <li><a href="http://es.linkedin.com/pub/diego-j-romero-lópez/67/828/607/en">LinkedIn</a></li>
                </ul>
        </li><!-- /.social -->
        <li>
            <h3>Tags</h3>
            <ul>
                    <li><a href="/tag/project-management.html">project management</a></li>
                    <li><a href="/tag/people.html">people</a></li>
                    <li><a href="/tag/startup.html">startup</a></li>
                    <li><a href="/tag/clients.html">clients</a></li>
                    <li><a href="/tag/programming.html">programming</a></li>
                    <li><a href="/tag/videotalk.html">videotalk</a></li>
                    <li><a href="/tag/welcome.html">welcome</a></li>
                    <li><a href="/tag/engineering.html">engineering</a></li>
                    <li><a href="/tag/books.html">books</a></li>
                    <li><a href="/tag/software-architecture.html">software architecture</a></li>
                    <li><a href="/tag/software-engineering.html">software engineering</a></li>
                    <li><a href="/tag/concurrency.html">concurrency</a></li>
                    <li><a href="/tag/test.html">test</a></li>
                    <li><a href="/tag/talk.html">talk</a></li>
            </ul>
        </li>
    </ul>
  </div><!-- end #sidebar -->

  <div id="mainContent">
  	
 


<div class="blogItem">
    
      <h2><a href="/posts/2015/08/concurrency-and-third-party-libraries/">Concurrency and Third Party Libraries</a></h2>
      <h3>sáb 01 agosto 2015</h3>
      
  <p>Last friday, one of my mates had a strange error in his code: incoherent an irrepetible results arise en each execution.</p>
<p>His code (Python) was concurrent code and each thread used several libraries (<a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoup4</a><sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> was one of them) which they were <strong>not</strong> thread-safe. What does it mean? It means we cannot assure that atomicity is achieved in some operations executed by the threads, effectively sharing some data that must not be shared.</p>
<p>I ended up helping him to set a critical section in these not-thread-safe parts of his code but this situation kept me wondering why a library that parses XML is not thread-safe and what kind of common resources used of the system. I couldn’t spend more time investigating this issue but this kept me wondering if this “feature” is not a case of bad software design.</p>
<p>Take a look if everything you are using is thread-safe before you start partitioning your execution flow in threads.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Technically, BeautifulSoup4 is a wrapper, not a library. Developer can choose several parsers available (html5lib, lxml…) when using it in an application. <a href="https://github.com/html5lib/html5lib-python">Html5lib</a> library is what we were using at the time.&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>	
      
      <h3 class="blogMeta">By <a href="#">Diego J.</a>, Category: <a href="/category/programming.html">Programming</a></h3>
<h3 class="blogMeta">Tags: <span><a href="/tag/concurrency.html">concurrency</a> / </span>
<span><a href="/tag/software-engineering.html">software engineering</a> / </span>
<span><a href="/tag/programming.html">programming</a> / </span>
</h3>    
    </div><!-- end #blogItem -->
				
				<!-- end #content -->
  
  </div><!-- end #mainContent -->

<div class="clearfloat"></div>

  <div id="footer">
    <p>Proudly powered by <a href="http://getpelican.com">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
  </div><!-- end #footer -->

</div><!-- end #container -->
</body>
</html>